<c-card class="mb-4">
    <c-card-header class="d-flex justify-content-between align-items-center">
      <span>Lista de categorías</span>
      <button [cModalToggle]="categoriasModal.id" cButton class="btn btn-primary">
        Agregar categoría
      </button>
    </c-card-header>
      <c-card-body>
        <table datatable [dtOptions]="dtOptions" [dtTrigger]="dtTrigger" class="row-border hover">
          <thead>
            <tr>
              <th>Nombre</th>
              <th>Descripción</th>
              <th>Acciones</th>

            </tr>
          </thead>
          <tbody>
            @for (item of categoriaLista; track $index) {
              <tr>
                <td>{{ item.nombre }}</td>
                <td>{{ item.descripcion }}</td>
                <td>
                  <button class="btn btn-warning"><svg cIcon name="cil-pencil" class="icon" aria-hidden="true"></svg></button>
                  &nbsp;
                  <button class="btn btn-danger"><svg cIcon name="cil-trash" class="icon" aria-hidden="true"></svg></button>
                </td>
              </tr>
            }
          </tbody>
        </table>
      </c-card-body>
    </c-card>
  
    
    
    
    
    <c-modal #categoriasModal backdrop="static" alignment="center" id="categoriasModal">
      <c-modal-header>
        <h5 cModalTitle>Nuevo categoria</h5>
        <button #cerrarModal [cModalToggle]="categoriasModal.id" cButtonClose></button>
      </c-modal-header>
    
      <c-modal-body>
        <!-- Asignamos un ID único al formulario -->
        <form [formGroup]="categoriaForm" (ngSubmit)="agregarcategoria()" id="categoriaForm">
          <div class="form-group mb-3">
            <label for="nombre">Nombre</label>
            <input type="text" class="form-control" id="nombre" formControlName="categoria" required>
            <div class="text-danger" *ngIf="categoriaForm.get('categoria')?.hasError('required') && categoriaForm.get('categoria')?.touched">
              <span>El nombre del categoria <strong>es obligatorio</strong></span>
            </div>
          </div>
    
          <div class="form-group mb-3">
            <label for="descripcion">Descripción</label>
            <input type="text" class="form-control" id="descripcion" formControlName="descripcion" required>
            <div class="text-danger" *ngIf="categoriaForm.get('descripcion')?.hasError('required') && categoriaForm.get('descripcion')?.touched">
              <span>La ubicación del categoria <strong>es obligatoria</strong></span>
            </div>
          </div>
    
          <!-- Puedes mantener este botón o eliminarlo si solo quieres el del footer -->
          <!-- <div class="mb-3">
            <button routerLink="/" class="btn btn-secondary btn-lg float-start">Volver</button>
            <button [disabled]="categoriaForm.invalid" type="submit" class="btn btn-success btn-lg float-end">Aceptar</button>
          </div> -->
        </form>
      </c-modal-body>
    
      <c-modal-footer>
        <button [cModalToggle]="categoriasModal.id" cButton color="secondary">
          Cancelar
        </button>
        <!-- Este botón ahora envía el formulario -->
        <button cButton color="primary" [disabled]="categoriaForm.invalid" type="submit" form="categoriaForm">
          Agregar
        </button>
      </c-modal-footer>
    </c-modal>
  
    <c-alert visible="false" color="secondary">A simple secondary alert—check it out!</c-alert>
    
  
    